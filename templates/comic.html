{#
This file is part of Dilbert Viewer.

Copyright (C) 2022  Harish Rajagopal <harish.rajagopals@gmail.com>

Dilbert Viewer is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Dilbert Viewer is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with Dilbert Viewer.  If not, see <https://www.gnu.org/licenses/>.
#}
{% extends "base.html" %}

{% block title %}{% if data.title.is_empty() %}Comic Strip on {{ date }}{% else %}{{ data.title }}{% endif %}{% endblock %}

{% block head %}
  <meta name="description" content="Dilbert comic strip on {{ date_disp }}, viewed using a simple comic viewer." />
  <meta property="og:title" content="{% if data.title.is_empty() %}Comic Strip on {{ date }}{% else %}{{ data.title }}{% endif %}">
  <meta property="og:type" content="website">
  <meta property="og:image" content="{{ data.img_url }}">
  <meta property="og:image:width" content="{{ data.img_width }}">
  <meta property="og:image:height" content="{{ data.img_height }}">
  <meta property="og:url" content="{{ app_url }}/{{ date }}">
  <meta property="og:description" content="Dilbert comic strip on {{ date_disp }}, viewed using a simple comic viewer.">
  <meta name="twitter:card" content="summary_large_image">
{% endblock %}

{% block content %}
  <!-- Date and title (if exists) -->
  <h1 class="h4 mx-1 my-2">{{ date_disp }}</h1>
  <h2 class="h6 m-1">{{ data.title }}</h2>

  <!-- Comic image -->
  <img class="img-fluid my-3 px-2" alt="Comic for {{ date }}" src="{{ data.img_url }}" width="{{ data.img_width }}" height="{{ data.img_height }}"/>

  <!-- Navigation buttons -->
  <nav class="d-flex flex-row flex-nowrap btn-toolbar m-2" aria-label="Navigation buttons">
    <div class="btn-group m-1" role="group" aria-label="Go backwards buttons">
      <a href="/{{ first_comic }}" role="button" class="btn btn-primary{% if disable_left_nav %} disabled{% endif %}" aria-disabled="{% if disable_left_nav %}true{% else %}false{% endif %}" aria-label="First comic">&lt&lt</a>
      <a href="/{{ previous_comic }}" role="button" class="btn btn-primary{% if disable_left_nav %} disabled{% endif %}" aria-disabled="{% if disable_left_nav %}true{% else %}false{% endif %}" aria-label="Previous comic">&lt</a>
    </div>
    <div class="btn-group m-1" role="group" aria-label="Center buttons">
      <a href="/random" role="button" class="btn btn-primary" aria-label="Random comic">Random</a>
    </div>
    <div class="btn-group m-1" role="group" aria-label="Go forwards buttons">
      <a href="/{{ next_comic }}" role="button" class="btn btn-primary{% if disable_right_nav %} disabled{% endif %}" aria-disabled="{% if disable_right_nav %}true{% else %}false{% endif %}" aria-label="Next comic">&gt</a>
      <a href="/" role="button" class="btn btn-primary{% if disable_right_nav %} disabled{% endif %}" aria-disabled="{% if disable_right_nav %}true{% else %}false{% endif %}" aria-label="Latest comic">&gt&gt</a>
    </div>
  </nav>

  <!-- Links to the source comic on "dilbert.com" -->
  <a href="{{ permalink }}" target="_blank" rel="noreferrer" role="button" class="btn btn-link m-1" aria-label="Link to the original comic">Original Comic</a>
{% endblock %}
